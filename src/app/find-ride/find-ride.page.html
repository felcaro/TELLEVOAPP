<!-- find-ride.page.html -->
<ion-header>
  <ion-toolbar class="custom-toolbar">
    <ion-title>Buscar Viajes</ion-title>
    <ion-buttons slot="end">
      <ion-button fill="clear" (click)="presentAlert()">
        <ion-icon name="information-circle-outline"></ion-icon>
        Viajes
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list>
    <ion-item *ngFor="let viaje of viajes" (click)="abrirModal(viaje)">
      <!-- <img [src]="viaje.imagenAuto" class="car-image" alt="Foto del auto" bueno esto lo dejo tal cual por si se llega a cagar alguna funcion atte: pipex>        -->
      <img src="https://www.transmedia.cl/wp-content/uploads/2019/11/Captura-de-pantalla-2019-11-11-a-las-13.45.15-e1573491095571.png" class="car-image" alt="Foto del auto">
      <ion-label class="car-details">
        <h2>{{ viaje.nombreChofer }}</h2>
        <p class="departure-location">{{ viaje.origin }} - {{ viaje.destination }}</p>
      </ion-label>
      <div class="seats-available">{{ viaje.seats }} Asientos</div>
    </ion-item>
  </ion-list>

  <ion-modal [isOpen]="mostrarModal">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-title slot="start">Detalles del Viaje</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="cerrarModal()">Cerrar</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>

      <ion-content>
        <div class="modal-content">
          <ion-button *ngIf="esCreadorDelViaje()" (click)="confirmarEliminacion()">
            Eliminar Viaje
          </ion-button>
          <!-- <img [src]="viajeSeleccionado.imagenAuto" class="car-image-large" alt="Foto del auto" lo mismo que arriva> -->
          <img src="https://www.transmedia.cl/wp-content/uploads/2019/11/Captura-de-pantalla-2019-11-11-a-las-13.45.15-e1573491095571.png" class="car-image-large" alt="Foto del auto" (click)="irADetalleViaje(viajeSeleccionado.id)" (click)="cerrarModal()">
          <h2>{{ viajeSeleccionado.nombreChofer }}</h2>
          <h1>{{ viajeSeleccionado.price }} CLP</h1>
          <p>Salida: {{ viajeSeleccionado.origin }}</p>
          <p>Destino: {{ viajeSeleccionado.destination }}</p>
          <p>Fecha: {{ viajeSeleccionado.date }}</p>
          <p>Hora: {{ viajeSeleccionado.time }}</p>
          <p>Asientos disponibles: {{ viajeSeleccionado.seats }}</p>

          <ion-button (click)="aceptarViaje(viajeSeleccionado)" expand="full" color="primary">
            Aceptar Viaje
          </ion-button>
        </div>
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>